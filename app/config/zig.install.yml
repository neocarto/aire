geonef_zig:
  install:
    # all paths are relative to the parameter 'kernel.root_dir'
    #manager_class: hehe
    public_dir: %kernel.cache_dir%/public
    public_mappings:
      - { location: '', directory: '../src/Geonef/AireBundle/Resources/public' }
      #- { location: 'lib', directory: '../src/Geonef/AireBundle/Resources/public/js' }
      - { location: '', directory: '../vendor/cartapatate' }
      - { location: 'lib', directory: '../vendor/ploomap-client/src' }
      - { location: 'lib', directory: '../vendor/jig/src' }
      - { location: 'images/openlayers', directory: '../vendor/ploomap-client/src/geonef/ploomap/style/openlayers' }
      - { location: 'images/openlayers', directory: '../vendor/openlayers/img' }
      - { location: 'lib/openlayers', directory: '../vendor/openlayers' }
      - { location: 'lib/proj4js', directory: '../vendor/proj4js' }
      - { location: 'lib/dojo', directory: '../vendor/dojo-release/dojo' }
      - { location: 'lib/dijit', directory: '../vendor/dojo-release/dijit' }
      - { location: 'lib/dojox', directory: '../vendor/dojo-release/dojox' }

    shrinksafe:
      buildscripts_dir: ../vendor/dojo-release/util/buildscripts
      release_name: x
      release_dir: %kernel.cache_dir%/public
      build_version: 0.3.0
      profileData:
        prefixes:
          - { ns: dojo, path: %kernel.cache_dir%/public/lib/dojo }
          - { ns: dijit, path: %kernel.cache_dir%/public/lib/dijit }
          - { ns: dojox, path: %kernel.cache_dir%/public/lib/dojox }
          - { ns: cartapatate, path: %kernel.cache_dir%/public/lib/cartapatate }
          - { ns: geonef, path: %kernel.cache_dir%/public/lib/geonef }
          - { ns: aire, path: %kernel.cache_dir%/public/lib/aire }
          - { ns: package, path: %kernel.cache_dir%/public/lib/package }
        layers:
          -
            name: ../admin.js
            copyrightFile: '../vendor/cartapatate/lib/cartapatate/copyright.txt'
            dependencies:
              - cartapatate.start.loadWorkspace
              - package.admin
          -
            name: ../home.js
            copyrightFile: '../vendor/cartapatate/lib/cartapatate/copyright.txt'
            dependencies:
              - package.home
              - aire.start.home
          -
            name: ../collection.js
            copyrightFile: '../vendor/cartapatate/lib/cartapatate/copyright.txt'
            dependencies:
              - package.collection
              - aire.start.collection
          -
            name: ../print.js
            copyrightFile: '../vendor/cartapatate/lib/cartapatate/copyright.txt'
            dependencies:
              - package.print
              - aire.start.print
